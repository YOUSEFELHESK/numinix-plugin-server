syntax = 'proto3';

package lexmodo.v1.customer_redis;


option go_package = "bitbucket.org/lexmodo/proto/customer_redis";

import "customers.proto";

enum ACTION_TYPE{
		
	unknown = 0;
	update = 1;
	delete =2;
	new =3;
    signin = 4;
}


enum ACTION_SOURCE{
		
	unknown_soruce = 0;
	app = 1;
	admin =2;
	store_front = 3;
}

enum EMAIL_ACTION_TYPE{
		
	unknown_action = 0;
	new_email = 1;
    resend_email = 2;
    update_email =3;
}

message CustomerRedisStream{
    uint64 client_id =1;
    lexmodo.v1.customers.CustomerInfo customer = 2;
    ACTION_TYPE action_type = 3;
    string grpc_method =4;
    string replay_uuid =5;
    
    ACTION_SOURCE action_source =6;
    
}


message CustomerEmailRedisStream{
    uint64 client_id =1;
    lexmodo.v1.customers.EmailLog email_log = 2;
    EMAIL_ACTION_TYPE action_type = 3;
    string grpc_method =4;
    string replay_uuid =5;
    string message_id =6;
    map<string,string> extra_info =7;
}