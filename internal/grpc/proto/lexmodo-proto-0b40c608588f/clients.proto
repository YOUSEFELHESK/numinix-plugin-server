syntax = 'proto3';

package lexmodo.v1.clients;

option go_package = "bitbucket.org/lexmodo/proto/clients";

//import "google/api/annotations.proto";

//import "google/protobuf/wrappers.proto";
import "google/protobuf/empty.proto";

service Clients {

    rpc UpdateClient(Client) returns(ResultResponse){}

    rpc GetClient(Client)  returns(ResultResponse){}

    rpc CreateClient(Client) returns(ResultResponse){}

    rpc GetAdminToken(google.protobuf.Empty)  returns(ResultResponse){}

    rpc GetClientInfo(google.protobuf.Empty) returns(ResultResponse){}

    rpc GetClientSMTP(Client) returns(ResultResponse){}

    rpc GetClientDevPreviewSite(Client) returns(ResultResponse){}

}
message ClientSMTP {
    string port =1; 
    string host =2;
    string user =3;
    string password =4;

}
message Client {
    uint32 client_id =1;
    string store_name =2;
    string store_website =3 ;
    uint64 member_since =4;
    bool store_is_disabled = 5;
    string store_logo =6;
    OAuthToken oauth_keys = 7;
    Group caller_group =8; 
    ClientSMTP client_smtp =9;
}
message Group{
    string group_id =1;
    string group_name =2;
}
message OAuthToken{
    string client_id =1;
    string access_token =2; 
    string refresh_token =3;
    uint64 access_token_expiry =4;
    string client_secret = 5;
    uint64 token_refreshed_count = 6;
}

message ResultResponse{

    bool success = 1;
    bool failure = 2;
    string code = 3;
    string message = 4;
    Client client =5;
    repeated Client clients = 6;

}
