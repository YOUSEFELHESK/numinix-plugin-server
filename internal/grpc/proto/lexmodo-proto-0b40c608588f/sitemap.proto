syntax = 'proto3';

package lexmodo.v1.sitemap;

option go_package = "bitbucket.org/lexmodo/proto/sitemap";

import "google/protobuf/empty.proto";


service Sitemap{

    rpc GetSiteMapFiles(google.protobuf.Empty) returns (ResultResponse){}
    rpc DeleteSiteMapFile(FileInfo) returns (ResultResponse) {}
    rpc FetchSiteMapFile (FileInfo) returns (stream ResultResponse) {}
    rpc UploadSiteMapFile(stream FileInfo) returns (ResultResponse){} 
}

message ResultResponse{

	bool success = 1;
    bool failure = 2;
    string code = 3;
    string message = 4;
    repeated FileInfo files = 5;
    FileInfo file = 6;   
}


message FileInfo{
    
    string name =1;
    uint64 size  =2;
    uint64 modification_time =3;
    bytes Content = 4;
}