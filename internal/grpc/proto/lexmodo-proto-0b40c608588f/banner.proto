syntax = 'proto3';

package lexmodo.v1.banners;

option go_package = "bitbucket.org/lexmodo/proto/banner";

import "google/protobuf/wrappers.proto";



service Banners{
    
  rpc GetBanner(Banner) returns (ResultResponse) {}
  rpc UpdateBanner(Banner) returns (ResultResponse) {}
  rpc DeleteBanner(Banner) returns (ResultResponse) {}
  rpc CreateBanner(Banner) returns (ResultResponse) {}
  rpc GetBannerListing(BasicSearch) returns (ResultResponse) {}

}

enum BANNER_STATUS{
    default = 0;
    active = 1;
    scheduled =2 ;
    expired =3;
}



message BasicSearch{

    uint64 created_before =1;

    uint64 created_after =2;

    BANNER_STATUS banner_status = 3;

    uint32 page_num = 4;

    enum ORDER_BY{

        DATE_ASC =0;
        
        DATE_DESC=1;
    }

    ORDER_BY order_by =5;


    APPLY_TYPE apply_type_setting  = 6;


    oneof apply_to{


        string apply_type_id = 7;

        ProductVariant apply_to_products = 8;

    }


}

message BannerListing{

    uint32 page_num = 1;
    uint32 total_result = 2;
    uint32 display_result = 3;
    repeated Banner banner_listing = 4;
   
}



message ResultResponse{

    bool success = 1;
    bool failure = 2;
    string code = 3;
    string message = 4;
    Banner banner = 5;
    BannerListing banner_listing = 9;
}


enum APPLY_TYPE{
        all =0;
        home = 1;
        specific_categories = 2;
        specific_products = 3;
        specific_products_rule =4;
        all_categories = 5;
        all_products = 6;
}




message ProductVariant{
    string product_id = 1;
    string variant_id = 2;
}


message Banner{

    string banner_id = 1;

	string banner_name =2;

	APPLY_TYPE apply_type_setting  = 3;

    oneof apply_to{


        string apply_type_id = 4;

        ProductVariant apply_to_products = 5;

    }

    google.protobuf.Int32Value active_date = 6;

    google.protobuf.Int32Value end_date = 7;

    uint64 created_on = 8;

    uint64 updated_on = 9;

    BANNER_STATUS banner_status = 10;

    bool visible =11;

    string location =12;

    string banner_contents =13;

    uint64 group_display_order =14;

}